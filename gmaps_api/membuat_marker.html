<!DOCTYPE html>
<html>
<head>
	<title>2.1. Tutorial Google Map - Bachtiar Lubis</title>
	<!-- Library api google maps -->
	<script src="http://maps.googleapis.com/maps/api/js"></script>
	<style>
		/*Set ukuran peta untuk ditampilkan*/
		#google-map{
			width: 100%;
			height: 380px;
		}
	</style>
</head>
<body>
	<h2>Membuat Marker Untuk Menandai Lokasi</h2>

	<div id="google-map"></div>

	Icons made by <a href="https://www.flaticon.com/authors/vitaly-gorbachev" title="Vitaly Gorbachev">Vitaly Gorbachev</a> from <a href="https://www.flaticon.com/" title="Flaticon"> www.flaticon.com</a>

	<script>
		// fungsi initialize untuk mempersiapkan peta
		function initialize(){
			// properti dalam bentuk objek
			var propertiPeta = {
				// Set posisi tengah gmap saat pertama kali di load / ditampilkan. contoh disini adalah padangsidimpuan
				center : new google.maps.LatLng(1.373264, 99.273545),
				// Set skala gmaps saat pertama kali diload. 9 berarti skala kota
				zoom : 9,
				// Set tipe gmaps saat pertama kali di-load
				mapTypeId : google.maps.MapTypeId.ROADMAP
			};

			var gmapId = document.getElementById("google-map");

			// objek peta 
			var peta = new google.maps.Map(gmapId, propertiPeta);

			var marker = new google.maps.Marker({
				// set posisi koordinate untuk di-marker
				position : new google.maps.LatLng(1.373264, 99.273545),
				// set objek peta
				map : peta,
				// set animasi pentalan (bounce) pada marker
				animation : google.maps.Animation.BOUNCE,
				// set custom icon untuk marker
				icon : "icons/placeholder.png"
			});

			// Even Listener ketika peta diklik. this = objek peta (karena dipanggil di event peta) dan e.latLng = posisi marker
			google.maps.event.addListener(peta, 'click', function(e){
				taruhMarker(this, e.latLng);
			});
		}

		// tambahkan fungsi initialize ke dalam event onload
		google.maps.event.addDomListener(window, 'load', initialize);

		/* Membuat marker saat peta diklik */
		var taruhMarker = function(peta, posisiTitik){
			// Membuat marker
			var marker = new google.maps.Marker({
				position : posisiTitik,
				map : peta
			});
		}
	</script>

</body>
</html>